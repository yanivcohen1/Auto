try{if(IDG!="undefined"&&IDG.GPT!="undefined"){IDG.GPT.setAllGoogleTagTargetings()}function adUnit(_name,_sizes){var o={code:_name,sizes:[],bids:[]};var sizesToBidFor=[[300,250],[300,600],[728,90],[970,250]];var singleBidsPushed=false;for(var size in _sizes){var currentSize=_sizes[size];for(var i=0;i<sizesToBidFor.length;i++){var currentSizeToBidFor=sizesToBidFor[i];if(currentSize[0]===currentSizeToBidFor[0]&&currentSize[1]===currentSizeToBidFor[1]){o.sizes.push(currentSizeToBidFor);o.bids.push({bidder:"triplelift",params:{inventoryCode:IDG.GPT.params.TriLiftPrefix+currentSizeToBidFor[0]+"x"+currentSizeToBidFor[1]}});if(singleBidsPushed===false){singleBidsPushed=true;o.bids.push({bidder:"appnexus",params:{placementId:IDG.GPT.params.appnexusPlacementId}},{bidder:"yieldbot",params:{psn:IDG.GPT.params.yieldbotPsn,slot:_name}})}}}}return o}var generateAdUnits=function(){var adUnits=[];var actualAdsOnPage=IDG.GPT.getFilter($thm.deviceWidth(),IDG.GPT.getPlace());for(var slot in actualAdsOnPage){var slotName=actualAdsOnPage[slot];adUnits.push(adUnit(slotName,IDG.GPT.slots[slotName]))}return adUnits};pbjs.que.push(function(){var adUnits=generateAdUnits();pbjs.addAdUnits(adUnits)});pbjs.que.push(function(){pbjs.addCallback("adUnitBidsBack",function(adUnitCode){});pbjs.requestBids({bidsBackHandler:function(bidResponses){initAdserver()},});pbjs.bidderSettings={standard:{adserverTargeting:[{key:"hb_bidder",val:function(bidResponse){return bidResponse.bidderCode}},{key:"hb_adid",val:function(bidResponse){return bidResponse.adId}},{key:"hb_pb",val:function(bidResponse){return bidResponse.pbMg}}]}}})}catch(exception){console.log("Can't turn PBJS on "+exception)}try{IDG.GPT.setIDGExtraTargetings();IDG.GPT.setAllGoogleTagTargetings();IDG.GPT.dfpAdManager.init();IDG.GPT.defineAllGoogleTagSlots();IDG.GPT.initGoogleTagService()}catch(exception){console.log("google_dfp can't use IDG.GPT "+exception)};